<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eco-Sistema: Operaci√≥n Acuapon√≠a</title>
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- Overlay de Scanlines y efectos CRT -->
        <div class="scanlines"></div>
        <div class="vignette"></div>

        <!-- Header / HUD Superior -->
        <header class="hud-header">
            <div class="status-bar">
                <span id="connection-status" class="status-online">CONECTADO</span>
                <span id="battery-level">BATT: 98%</span>
                <span id="clock">00:00</span>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h1 class="game-title">ECO-SISTEMA <span class="version">v2.5</span></h1>
                <div id="xp-display" style="color: var(--color-primary); font-family: var(--font-display);">XP: 0</div>
            </div>
        </header>

        <!-- Contenedor Principal de Vistas -->
        <main id="main-container">
            <!-- Vista: Registro -->
            <section id="view-register" class="view hidden">
                <div class="logo-container">
                    <h2>IDENTIFICACI√ìN</h2>
                </div>
                <p class="mission-brief">
                    INGRESE SU NOMBRE DE AGENTE PARA INICIAR EL REGISTRO DE MISI√ìN.
                </p>
                <input type="text" id="input-name" class="cyber-input" placeholder="NOMBRE DE AGENTE"
                    autocomplete="off">
                <button id="btn-register" class="cyber-button">REGISTRAR AGENTE</button>
            </section>

            <!-- Vista: Inicio -->
            <section id="view-home" class="view hidden">
                <div class="logo-container">
                    <div class="eco-circle"></div>
                    <h2>HOLA, AGENTE <span id="agent-name-display"></span></h2>
                </div>
                <p class="mission-brief">
                    ESTADO DEL HUERTO: CR√çTICO.<br>
                    TU MISI√ìN: Reactivar el ecosistema.<br>
                    HERRAMIENTAS: Smartphone + Libreta.
                </p>
                <button id="btn-start" class="cyber-button">ACCEDER A FASES</button>
                <button id="btn-profile" class="cyber-button small" style="margin-top: 10px;">VER PERFIL Y
                    LOGROS</button>
            </section>

            <!-- Vista: Selector de Fases -->
            <section id="view-phases" class="view hidden">
                <div class="activity-header">
                    <button id="btn-back-home" class="back-arrow">‚Üê INICIO</button>
                    <h3>FASES DEL PROYECTO</h3>
                </div>
                <div class="phase-grid">
                    <button class="phase-card locked" data-phase="1">
                        <span class="phase-num">01</span>
                        <span class="phase-name">QU√çMICA DEL AGUA</span>
                        <span class="phase-status">PENDIENTE</span>
                    </button>
                    <button class="phase-card locked" data-phase="2">
                        <span class="phase-num">02</span>
                        <span class="phase-name">BIOLOG√çA DE PECES</span>
                        <span class="phase-status">BLOQUEADO</span>
                    </button>
                    <button class="phase-card locked" data-phase="3">
                        <span class="phase-num">03</span>
                        <span class="phase-name">MANTENIMIENTO</span>
                        <span class="phase-status">BLOQUEADO</span>
                    </button>
                    <button class="phase-card locked" data-phase="4">
                        <span class="phase-num">04</span>
                        <span class="phase-name">PROYECTO FINAL</span>
                        <span class="phase-status">BLOQUEADO</span>
                    </button>
                </div>
            </section>

            <!-- Vista: Actividad Activa -->
            <section id="view-activity" class="view hidden">
                <div class="activity-header">
                    <button id="btn-back" class="back-arrow">‚Üê VOLVER</button>
                    <h3 id="activity-title">ACTIVIDAD</h3>
                </div>

                <div id="activity-content" class="activity-content">
                    <!-- Inyecci√≥n de m√≥dulos -->
                </div>

                <div id="notebook-instruction" class="notebook-instruction hidden">
                    <div class="icon-notebook">üìí</div>
                    <p>ACTIVIDAD EN LIBRETA REQUERIDA</p>
                    <p id="notebook-text">Dibuja el esquema actual...</p>
                    <button id="btn-verify-notebook" class="cyber-button small">VERIFICAR Y GUARDAR</button>
                </div>
            </section>

            <!-- Vista: Biblioteca (Nueva) -->
            <section id="view-library" class="view hidden">
                <div class="activity-header">
                    <button id="btn-back-library" class="back-arrow">‚Üê VOLVER</button>
                    <h3>BIBLIOTECA</h3>
                </div>
                <div id="library-content" class="library-content">
                    <!-- Contenido inyectado -->
                </div>
                <button id="btn-finish-reading" class="cyber-button small" style="margin-top: 20px;">LECTURA
                    COMPLETADA</button>
            </section>

            <!-- Vista: Perfil / Diploma -->
            <section id="view-profile" class="view hidden">
                <div class="activity-header">
                    <button id="btn-back-profile" class="back-arrow">‚Üê VOLVER</button>
                    <h3>PERFIL DE AGENTE</h3>
                </div>

                <div style="width: 100%; text-align: center;">
                    <h2 id="profile-name">AGENTE X</h2>
                    <p>NIVEL DE ACCESO: <span id="profile-level">1</span></p>
                </div>

                <div class="badge-grid" id="badge-container">
                    <!-- Badges inyectados por JS -->
                </div>

                <div id="diploma-section" class="diploma-container hidden">
                    <div class="diploma-title">CERTIFICADO DE EXCELENCIA</div>
                    <p>SE OTORGA EL PRESENTE A:</p>
                    <div class="diploma-name" id="diploma-name">NOMBRE</div>
                    <p>POR COMPLETAR EXITOSAMENTE LA RECUPERACI√ìN DEL ECOSISTEMA ACUAP√ìNICO.</p>
                    <p style="margin-top: 10px; font-size: 0.7rem;">FECHA: <span id="diploma-date"></span></p>
                </div>
            </section>
        </main>

        <!-- HUD Inferior -->
        <footer class="hud-footer">
            <div class="sensor-readings">
                <div class="reading">
                    <span class="label">GYRO</span>
                    <span id="gyro-val" class="value">0, 0, 0</span>
                </div>
                <div class="reading">
                    <span class="label">AUDIO</span>
                    <div class="audio-bar-container">
                        <div id="audio-bar" class="audio-bar"></div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script type="module" src="app.js"></script>
</body>

</html>